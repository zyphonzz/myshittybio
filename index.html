<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Luna — Portfolio</title>
  <meta name="theme-color" content="#0b0b0c">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <style>
    /* ---------- Base / Design Tokens ---------- */
    :root {
      --bg: #0a0a0b;
      --fg: #e8e8ea;
      --muted: #a6a6ad;
      --accent: #b3ff00; /* subtle neon tint for focus rings */
      --card: rgba(18,18,22,0.6);
      --glass: rgba(18,18,22,0.35);
      --glass-strong: rgba(18,18,22,0.55);
      --ring: rgba(255,255,255,0.25);
      --radius: 22px;
      --blur: 18px;           /* used for glass UI */
      --blur-strong: 26px;    /* used for heavier glass */
      --ui-scale: 1;          /* animated during transitions */
      --ui-blur: 0px;         /* animated during transitions */
      --ui-opacity: 1;        /* animated during transitions */
      --shadow-lg: 0 20px 60px rgba(0,0,0,.45), 0 2px 8px rgba(0,0,0,.35);
      --shadow-md: 0 10px 30px rgba(0,0,0,.35), 0 1px 4px rgba(0,0,0,.35);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--fg);
      font: 400 15px ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      letter-spacing: 0.2px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow: hidden;
    }

    a { color: inherit; text-decoration: none; }
    button { font: inherit; }

    /* ---------- Common Layout Helpers ---------- */
    .center {
      display: grid; place-items: center;
      position: relative; width: 100%; height: 100%;
    }

    .screen { position: absolute; inset: 0; opacity: 0; pointer-events: none; transition: opacity .6s cubic-bezier(.2,.7,.1,1); }
    .screen.active { opacity: 1; pointer-events: auto; }

    /* ---------- Login Screen ---------- */
    .login-wrap {
      width: min(460px, calc(100% - 48px));
      backdrop-filter: blur(var(--blur));
      -webkit-backdrop-filter: blur(var(--blur));
      background: var(--glass);
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: var(--shadow-lg);
      padding: 26px; isolation: isolate;
      transform: scale(var(--ui-scale));
      filter: blur(var(--ui-blur));
      opacity: var(--ui-opacity);
    }

    .login-header{ text-align:center; margin-bottom:10px; }
    .login-title{ font-weight:600; letter-spacing:.4px; opacity:.9; }
    .login-sub{ color:var(--muted); font-size:12.5px; margin-top:6px; }

    .field{ display:flex; align-items:center; gap:10px; margin:12px 0; background: var(--glass-strong);
      border:1px solid rgba(255,255,255,.08); padding:12px 14px; border-radius:14px; backdrop-filter: blur(10px);
    }
    .field input{ width:100%; background:transparent; border:0; outline:0; color:var(--fg); font-weight:500; letter-spacing:.2px; }
    .field input::placeholder{ color: #b7b7bf; opacity:.6 }

    .btn{
      width:100%;
      background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
      border:1px solid rgba(255,255,255,.14);
      color:#fff; font-weight:700; letter-spacing:.4px;
      border-radius:14px; padding:12px 16px; cursor:pointer;
      box-shadow: var(--shadow-md);
      transition: transform .2s ease, filter .2s ease, background .4s ease;
      backdrop-filter: blur(10px);
    }
    .btn:hover{ transform: translateY(-1px); }
    .btn:active{ transform: translateY(0) scale(.99); }

    .helptext{ color:#a8abb4; font-size:12.5px; text-align:center; margin-top:12px; }

    /* animated stars / subtle noise backdrop to vibe with the black login */
    .stars{ position:absolute; inset:0; background-image: radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.18) 50%, transparent 51%),
                                         radial-gradient(1.5px 1.5px at 70% 60%, rgba(255,255,255,.12) 50%, transparent 51%),
                                         radial-gradient(1.2px 1.2px at 40% 80%, rgba(255,255,255,.10) 50%, transparent 51%);
            background-repeat:no-repeat; filter: contrast(110%) brightness(120%); opacity:.55; }

    /* ---------- Profile / Blonde Screen ---------- */
    .hero-bg{ position:absolute; inset:0; background:#000 center/cover no-repeat;
              background-image:url('https://cdn.theatlantic.com/thumbor/l_5L4CoQKQHnmq2XpxCIyhnhezk=/0x133:1278x799/1200x625/media/img/mt/2016/08/tumblr_oc8gjpg8Bw1qdrz3yo1_1280/original.jpg');
              transform: scale(1.02); will-change: transform; }

    .profile-wrap{
      width:min(800px, calc(100% - 48px));
      margin:auto; border-radius:32px; padding:24px; isolation:isolate;
      background: linear-gradient( to bottom, rgba(18,18,22,.45), rgba(18,18,22,.65) );
      border: 1px solid rgba(255,255,255,.08);
      backdrop-filter: blur(var(--blur-strong)) saturate(110%);
      -webkit-backdrop-filter: blur(var(--blur-strong)) saturate(110%);
      box-shadow: var(--shadow-lg);
      display:grid; grid-template-columns: 120px 1fr; gap:22px; align-items:center;
      animation: card-in .7s cubic-bezier(.2,.7,.1,1) both .2s;
    }
    @keyframes card-in{ from{ transform: translateY(12px); opacity: 0 } to{ transform: translateY(0); opacity:1 } }

    .avatar{ width:96px; height:96px; border-radius:50%;
             background: center/cover no-repeat url('https://cdn.discordapp.com/attachments/1372187342449938465/1405905003385720892/image.png?ex=68ab1291&is=68a9c111&hm=1e81b78199feafb5f0471934dea809278fbb8721e5a48f14c799a4175b8d9ecc&');
             border:1px solid rgba(255,255,255,.18); box-shadow: 0 6px 20px rgba(0,0,0,.45); }

    .pf-title{ font-size:28px; font-weight:800; letter-spacing:.4px; }
    .pf-sub{ color:#c4c6cf; margin-top:2px; font-size:13.5px; }

    .badge{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-weight:650; font-size:12px;
            background: rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12); backdrop-filter: blur(6px); }

    .row{ display:flex; flex-wrap:wrap; align-items:center; gap:10px; margin-top:8px; }

    /* ---------- Player ---------- */
    .player{
      grid-column: span 2;
      margin-top: 10px; padding: 14px; border-radius: 18px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.08);
      display:grid; grid-template-columns: 90px 1fr auto; gap: 16px; align-items:center;
    }

    .cover { width: 90px; height: 90px; border-radius: 12px; background: center/cover no-repeat url('https://upload.wikimedia.org/wikipedia/en/a/a0/Blonde_-_Frank_Ocean.jpeg'); border:1px solid rgba(255,255,255,.18); box-shadow: var(--shadow-md); }

    .track-title{ font-weight:700; letter-spacing:.3px; }
    .track-sub{ color:#c4c6cf; font-size:12.5px; margin-top:2px; }

    .controls{ display:flex; align-items:center; gap:12px; }
    .icon-btn{ width:42px; height:42px; border-radius:999px; display:grid; place-items:center; cursor:pointer; user-select:none;
               background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.07));
               border:1px solid rgba(255,255,255,.16); box-shadow: var(--shadow-md); transition: transform .18s ease; }
    .icon-btn:active{ transform: scale(.97); }

    .seeker{ display:flex; align-items:center; gap:8px; margin-top:4px; }
    .time{ font-variant-numeric: tabular-nums; font-size:12px; color:#c9cad2; }
    input[type="range"]{ -webkit-appearance: none; appearance: none; width: 100%; height: 6px; background: rgba(255,255,255,.14); border-radius: 999px; outline: none; }
    input[type="range"]::-webkit-slider-thumb{ -webkit-appearance: none; appearance: none; width:18px; height:18px; border-radius:50%; background: #fff; border: 2px solid #000; box-shadow: 0 1px 8px rgba(0,0,0,.35); margin-top:-6px; }
    input[type="range"]::-moz-range-thumb{ width:18px; height:18px; border-radius:50%; background:#fff; border: 2px solid #000; }

    .vol{ width:120px; display:flex; align-items:center; gap:8px; }

    /* ---------- Utility ---------- */
    .fade-in { animation: fade .6s ease both; }
    @keyframes fade{ from{ opacity:0 } to{ opacity:1 } }

    .credit{ position: fixed; bottom: 10px; right: 14px; color:#a8abb4; font-size: 11.5px; }

    /* Responsive tweaks */
    @media (max-width: 640px){
      .profile-wrap{ grid-template-columns: 72px 1fr; border-radius: 24px; }
      .avatar{ width:72px; height:72px; }
      .player{ grid-template-columns: 72px 1fr auto; }
      .vol{ display:none; }
    }
  </style>
</head>
<body>
  <!-- LOGIN SCREEN -->
  <section id="login" class="screen active center" aria-label="Login screen">
    <div class="stars" aria-hidden="true"></div>
    <div class="login-wrap" id="loginCard">
      <div class="login-header">
        <div class="login-title">Login</div>
        <div class="login-sub">Password can be anything — this is a portfolio demo.</div>
      </div>
      <form id="loginForm" autocomplete="on">
        <div class="field"><input id="user" name="user" placeholder="Username" autocomplete="username"></div>
        <div class="field"><input id="pass" name="pass" type="password" placeholder="Passphrase" autocomplete="current-password"></div>
        <button class="btn" type="submit">Submit</button>
        <div class="helptext">Progressive zoom+blur → Blonde profile.</div>
      </form>
    </div>
  </section>

  <!-- PROFILE / BLONDE PAGE -->
  <section id="profile" class="screen center" aria-label="Profile: Luna">
    <div class="hero-bg" id="hero"></div>
    <div class="profile-wrap">
      <div class="avatar" aria-hidden="true"></div>
      <div>
        <div class="pf-title">Luna</div>
        <div class="pf-sub">transgender · she/her</div>
        <div class="row" style="margin-top:10px">
          <span class="badge">“taken by zoey!!! ♡♡♡”</span>
          <span class="badge">“i love you frank oceannnn”</span>
        </div>
      </div>

      <div class="player" role="group" aria-label="Audio player: White Ferrari">
        <div class="cover" aria-hidden="true"></div>
        <div>
          <div class="track-title">White Ferrari</div>
          <div class="track-sub">Frank Ocean — Blonde (2016)</div>
          <div class="seeker">
            <span class="time" id="cur">0:00</span>
            <input id="seek" type="range" min="0" max="100" value="0" step="1" aria-label="Seek" />
            <span class="time" id="dur">0:00</span>
          </div>
        </div>
        <div class="controls">
          <button class="icon-btn" id="play" aria-label="Play/Pause" title="Play/Pause">▶</button>
          <div class="vol">
            <span class="time">vol</span>
            <input id="vol" type="range" min="0" max="1" step="0.01" value="0.85" aria-label="Volume" />
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Hidden audio element. Two source paths tried automatically. Put the file in either /media or ./media next to index.html. -->
  <audio id="audio" preload="metadata" crossorigin="anonymous">
    <source src="/media/white-ferrari.mp3" type="audio/mpeg" />
    <source src="media/white-ferrari.mp3" type="audio/mpeg" />
    Your browser does not support the audio element.
  </audio>


  <div class="credit">made with ♡ by luna</div>

  <script>
    // ---------- Login transition: iOS‑style zoom+progressive blur + crossfade ----------
    const scrLogin = document.getElementById('login');
    const scrProfile = document.getElementById('profile');
    const card = document.getElementById('loginCard');
    const form = document.getElementById('loginForm');

    const setVar = (name, value) => document.documentElement.style.setProperty(name, value);

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      // Disable inputs quickly for feedback
      [...form.querySelectorAll('input,button')].forEach(el => el.disabled = true);

      // Spring-like zoom with progressive blur using requestAnimationFrame
      const duration = 800; // ms
      const start = performance.now();

      function frame(now){
        const t = Math.min(1, (now - start) / duration);
        // iOS-like ease: cubic-bezier-ish
        const ease = t<.5 ? 4*t*t*t : 1 - Math.pow(-2*t+2,3)/2;
        const scale = 1 + ease * 0.22;         // up to 1.22x
        const blur = (ease * 22).toFixed(2) + 'px';
        const op = 1 - ease*0.35;
        setVar('--ui-scale', scale);
        setVar('--ui-blur', blur);
        setVar('--ui-opacity', op);
        if (t < 1) requestAnimationFrame(frame); else toProfile();
      }
      requestAnimationFrame(frame);
    });

    function toProfile(){
      scrLogin.classList.remove('active');
      scrProfile.classList.add('active');
      // Subtle parallax zoom on background for life
      const hero = document.getElementById('hero');
      let raf;
      const onMove = (e) => {
        const { innerWidth:w, innerHeight:h } = window;
        const x = (e.clientX - w/2) / (w/2);
        const y = (e.clientY - h/2) / (h/2);
        cancelAnimationFrame(raf);
        raf = requestAnimationFrame(() => {
          hero.style.transform = `translate(${x*-6}px, ${y*-6}px) scale(1.04)`;
        });
      };
      window.addEventListener('mousemove', onMove);
    }

    // ---------- Player logic (custom UI) ----------
    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('play');
    const seek = document.getElementById('seek');
    const vol = document.getElementById('vol');
    const cur = document.getElementById('cur');
    const dur = document.getElementById('dur');

    // OPTIONAL: if you want to use a YouTube embed instead of direct audio, replace the player section with an iframe.

    function fmt(t){
      if (!isFinite(t)) return '0:00';
      const m = Math.floor(t/60);
      const s = Math.floor(t%60).toString().padStart(2,'0');
      return `${m}:${s}`;
    }
    // Auto-detect duration once metadata is available; show helpful error message if the file can't be loaded.
    const msg = (t) => { dur.textContent = t; dur.style.color = '#ffb4b4'; };

    audio.addEventListener('error', () => {
      const code = (audio.error && audio.error.code) || 0;
      if (code === 4) {
        msg('Audio not found / unsupported. Check file path & MIME type.');
      } else {
        msg('Audio failed to load.');
      }
    });

    playBtn.addEventListener('click', async () => {
      try{
        if (audio.paused) { await audio.play(); playBtn.textContent = '❚❚'; }
        else { audio.pause(); playBtn.textContent = '▶'; }
      } catch(err){ console.warn(err); }
    });

    audio.addEventListener('loadedmetadata', () => {
      seek.max = Math.floor(audio.duration);
      dur.textContent = fmt(audio.duration);
    });

    audio.addEventListener('timeupdate', () => {
      seek.value = Math.floor(audio.currentTime);
      cur.textContent = fmt(audio.currentTime);
    });

    seek.addEventListener('input', () => {
      audio.currentTime = +seek.value;
    });

    vol.addEventListener('input', () => { audio.volume = +vol.value; });

    // Keyboard shortcuts
    window.addEventListener('keydown', (e) => {
      if (!scrProfile.classList.contains('active')) return; // only on profile page
      if (e.code === 'Space') { e.preventDefault(); playBtn.click(); }
      if (e.code === 'ArrowRight') audio.currentTime = Math.min(audio.currentTime + 5, audio.duration||1);
      if (e.code === 'ArrowLeft') audio.currentTime = Math.max(audio.currentTime - 5, 0);
    });
  </script>
</body>
</html>
